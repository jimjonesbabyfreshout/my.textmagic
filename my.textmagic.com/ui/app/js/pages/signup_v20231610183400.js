$(document).ready(function(){var
checkLength=/^.{7,32}$/,checkLetter=/[a-zA-Z]+/,checkNum=/[0-9]+/,emailEdit=$('#user_registration_form_email'),passwordEdit=$('#user_registration_form_plainPassword'),countrySel=$('#user_registration_form_country'),form=$('form'),submitBtn=form.find('button[type="submit"]'),registerAccountsBlock=$('#register-account');countrySel.chosen();if($('.has-error').length===0){$('input[type="text"]:visible').first().focus();}
form.on('submit',function(){submitBtn.spin('enable','Creating Account...');});countrySel.on('change',function(){window.ParsleyExtend.addAsyncValidator('checkEmail',function(xhr){return xhr.status==200;},'/register/validate',{"type":"POST","dataType":"JSON","data":{'user_registration_form[country]':countrySel.val()}});});countrySel.change();window.ParsleyValidator.addValidator('checkPassword',function(value,requirement){let checkLengthValid=checkLength.test(value);let checkLetterValid=checkLetter.test(value);let checkNumValid=checkNum.test(value);return checkLengthValid&&checkLetterValid&&checkNumValid;},32);passwordEdit.keyup(function(){let password=$(this).val();$('.rule-length i').removeClass('fa-check fa-times').addClass(checkLength.test(password)?'fa-check':'fa-times');$('.rule-letters-numbers i').removeClass('fa-check fa-times').addClass(checkLetter.test(password)&&checkNum.test(password)?'fa-check':'fa-times');});passwordEdit.focus(function(){$('.password-validation').show();});passwordEdit.blur(function(){$('.password-validation').hide();});});var $formValidate=$('.form-validate');$formValidate.parsley().subscribe('parsley:form:validate',function(formInstance){$formValidate.find('[data-parsley-errors-messages-disabled]').removeAttr('data-parsley-errors-messages-disabled');});$formValidate.parsley().subscribe('parsley:field:success',function(ParsleyField){ParsleyField.$element.siblings('.help-block.filled').removeClass('filled').empty();});