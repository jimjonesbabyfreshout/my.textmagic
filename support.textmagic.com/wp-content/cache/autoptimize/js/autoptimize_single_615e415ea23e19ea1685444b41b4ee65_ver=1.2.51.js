(function(){if(typeof window.CustomEvent==="function")
return false;function CustomEvent(event,params){params=params||{bubbles:false,cancelable:false,detail:undefined};var evt=document.createEvent('CustomEvent');evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt;}
CustomEvent.prototype=window.Event.prototype;window.CustomEvent=CustomEvent;})();(function(){var regExp=function(name){return new RegExp('(^| )'+name+'( |$)');};var forEach=function(list,fn,scope){for(var i=0;i<list.length;i++){fn.call(scope,list[i]);}};function ClassList(element){this.element=element;}
ClassList.prototype={add:function(){forEach(arguments,function(name){if(!this.contains(name)){this.element.className+=this.element.className.length>0?' '+name:name;}},this);},remove:function(){forEach(arguments,function(name){this.element.className=this.element.className.replace(regExp(name),'');},this);},toggle:function(name){return this.contains(name)?(this.remove(name),false):(this.add(name),true);},contains:function(name){return regExp(name).test(this.element.className);},replace:function(oldName,newName){this.remove(oldName),this.add(newName);}};if(!('classList'in Element.prototype)){Object.defineProperty(Element.prototype,'classList',{get:function(){return new ClassList(this);}});}
if(window.DOMTokenList&&DOMTokenList.prototype.replace==null)
DOMTokenList.prototype.replace=ClassList.prototype.replace;})();(function(window,document,undefined){var cookieNotice=new function(){this.cookiesAccepted=null;this.noticeContainer=null;this.setStatus=function(cookieValue){var _this=this;if(cnArgs.onScroll==='yes')
window.removeEventListener('scroll',this.handleScroll);var date=new Date(),laterDate=new Date();if(cookieValue==='accept'){cookieValue='true';laterDate.setTime(parseInt(date.getTime())+parseInt(cnArgs.cookieTime)*1000);}else{cookieValue='false';laterDate.setTime(parseInt(date.getTime())+parseInt(cnArgs.cookieTimeRejected)*1000);}
document.cookie=cnArgs.cookieName+'='+cookieValue+';expires='+laterDate.toUTCString()+';'+(!!cnArgs.cookieDomain?'domain='+cnArgs.cookieDomain+';':'')+(!!cnArgs.cookiePath?'path='+cnArgs.cookiePath+';':'')+(cnArgs.secure==='1'?'secure;':'');this.cookiesAccepted=cookieValue==='true';var event=new CustomEvent('setCookieNotice',{detail:{value:cookieValue,time:date,expires:laterDate,data:cnArgs}});document.dispatchEvent(event);this.setBodyClass(['cookies-set',cookieValue==='true'?'cookies-accepted':'cookies-refused']);this.hideCookieNotice();if(cnArgs.revoke_cookies_opt==='automatic'){this.noticeContainer.addEventListener('animationend',function handler(){_this.noticeContainer.removeEventListener('animationend',handler);_this.showRevokeNotice();});this.noticeContainer.addEventListener('webkitAnimationEnd',function handler(){_this.noticeContainer.removeEventListener('webkitAnimationEnd',handler);_this.showRevokeNotice();});}
if(cnArgs.redirection==='1'&&((cookieValue==='true'&&this.cookiesAccepted===null)||(cookieValue!==this.cookiesAccepted&&this.cookiesAccepted!==null))){var url=window.location.protocol+'//',hostname=window.location.host+'/'+window.location.pathname;if(cnArgs.cache==='1'){url=url+hostname.replace('//','/')+(window.location.search===''?'?':window.location.search+'&')+'cn-reloaded=1'+window.location.hash;window.location.href=url;}else{url=url+hostname.replace('//','/')+window.location.search+window.location.hash;window.location.reload(true);}
return;}};this.getStatus=function(bool){var value="; "+document.cookie,parts=value.split('; cookie_notice_accepted=');if(parts.length===2){var val=parts.pop().split(';').shift();if(bool)
return val==='true';else
return val;}else
return null;};this.showCookieNotice=function(){var _this=this;var event=new CustomEvent('showCookieNotice',{detail:{data:cnArgs}});document.dispatchEvent(event);this.noticeContainer.classList.remove('cookie-notice-hidden');this.noticeContainer.classList.add('cn-animated');this.noticeContainer.classList.add('cookie-notice-visible');this.noticeContainer.addEventListener('animationend',function handler(){_this.noticeContainer.removeEventListener('animationend',handler);_this.noticeContainer.classList.remove('cn-animated');});this.noticeContainer.addEventListener('webkitAnimationEnd',function handler(){_this.noticeContainer.removeEventListener('webkitAnimationEnd',handler);_this.noticeContainer.classList.remove('cn-animated');});};this.hideCookieNotice=function(){var _this=this;var event=new CustomEvent('hideCookieNotice',{detail:{data:cnArgs}});document.dispatchEvent(event);this.noticeContainer.classList.add('cn-animated');this.noticeContainer.classList.remove('cookie-notice-visible');this.noticeContainer.addEventListener('animationend',function handler(){_this.noticeContainer.removeEventListener('animationend',handler);_this.noticeContainer.classList.remove('cn-animated');_this.noticeContainer.classList.add('cookie-notice-hidden');});this.noticeContainer.addEventListener('webkitAnimationEnd',function handler(){_this.noticeContainer.removeEventListener('webkitAnimationEnd',handler);_this.noticeContainer.classList.remove('cn-animated');_this.noticeContainer.classList.add('cookie-notice-hidden');});};this.showRevokeNotice=function(){var _this=this;var event=new CustomEvent('showRevokeNotice',{detail:{data:cnArgs}});document.dispatchEvent(event);this.noticeContainer.classList.remove('cookie-revoke-hidden');this.noticeContainer.classList.add('cn-animated');this.noticeContainer.classList.add('cookie-revoke-visible');this.noticeContainer.addEventListener('animationend',function handler(){_this.noticeContainer.removeEventListener('animationend',handler);_this.noticeContainer.classList.remove('cn-animated');});this.noticeContainer.addEventListener('webkitAnimationEnd',function handler(){_this.noticeContainer.removeEventListener('webkitAnimationEnd',handler);_this.noticeContainer.classList.remove('cn-animated');});};this.hideRevokeNotice=function(){var _this=this;var event=new CustomEvent('hideRevokeNotice',{detail:{data:cnArgs}});document.dispatchEvent(event);this.noticeContainer.classList.add('cn-animated');this.noticeContainer.classList.remove('cookie-revoke-visible');this.noticeContainer.addEventListener('animationend',function handler(){_this.noticeContainer.removeEventListener('animationend',handler);_this.noticeContainer.classList.remove('cn-animated');_this.noticeContainer.classList.add('cookie-revoke-hidden');});this.noticeContainer.addEventListener('webkitAnimationEnd',function handler(){_this.noticeContainer.removeEventListener('webkitAnimationEnd',handler);_this.noticeContainer.classList.remove('cn-animated');_this.noticeContainer.classList.add('cookie-revoke-hidden');});};this.setBodyClass=function(classes){document.body.classList.remove('cookies-revoke');document.body.classList.remove('cookies-accepted');document.body.classList.remove('cookies-refused');document.body.classList.remove('cookies-set');document.body.classList.remove('cookies-not-set');for(var i=0;i<classes.length;i++){document.body.classList.add(classes[i]);}};this.handleScroll=function(){var scrollTop=window.pageYOffset||(document.documentElement||document.body.parentNode||document.body).scrollTop
if(scrollTop>parseInt(cnArgs.onScrollOffset))
this.setStatus('accept');};this.getClosest=function(elem,selector){if(!Element.prototype.matches){Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(s){var matches=(this.document||this.ownerDocument).querySelectorAll(s),i=matches.length;while(--i>=0&&matches.item(i)!==this){}
return i>-1;};}
for(;elem&&elem!==document;elem=elem.parentNode){if(elem.matches(selector))
return elem;}
return null;};this.init=function(){var _this=this;this.cookiesAccepted=this.getStatus(true);this.noticeContainer=document.getElementById('cookie-notice');var cookieButtons=document.getElementsByClassName('cn-set-cookie'),revokeButtons=document.getElementsByClassName('cn-revoke-cookie');this.noticeContainer.classList.add('cn-effect-'+cnArgs.hideEffect);if(this.cookiesAccepted===null){if(cnArgs.onScroll==='yes')
window.addEventListener('scroll',function(e){_this.handleScroll();});if(cnArgs.onClick==='yes')
window.addEventListener('click',function(e){var outerContainer=_this.getClosest(e.target,'#cookie-notice');if(outerContainer===null)
_this.setStatus('accept');},true);this.setBodyClass(['cookies-not-set']);this.showCookieNotice();}else{this.setBodyClass(['cookies-set',this.cookiesAccepted===true?'cookies-accepted':'cookies-refused']);if(cnArgs.revoke_cookies==1&&cnArgs.revoke_cookies_opt==='automatic')
this.showRevokeNotice();}
for(var i=0;i<cookieButtons.length;i++){cookieButtons[i].addEventListener('click',function(e){e.preventDefault();e.stopPropagation();_this.setStatus(this.dataset.cookieSet);});}
for(var i=0;i<revokeButtons.length;i++){revokeButtons[i].addEventListener('click',function(e){e.preventDefault();if(_this.noticeContainer.classList.contains('cookie-revoke-visible')){_this.hideRevokeNotice();_this.noticeContainer.addEventListener('animationend',function handler(){_this.noticeContainer.removeEventListener('animationend',handler);_this.showCookieNotice();});_this.noticeContainer.addEventListener('webkitAnimationEnd',function handler(){_this.noticeContainer.removeEventListener('webkitAnimationEnd',handler);_this.showCookieNotice();});}else if(_this.noticeContainer.classList.contains('cookie-notice-hidden')&&_this.noticeContainer.classList.contains('cookie-revoke-hidden')){_this.showCookieNotice();}});}};}
window.addEventListener('load',function(){cookieNotice.init();},false);})(window,document,undefined);