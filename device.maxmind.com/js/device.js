(function(){(function(){var m,p;window.__mmapiws=window.__mmapiws||{};var w=window.__mmapiws,s=["Abadi MT Condensed Light","Adobe Fangsong Std","Adobe Hebrew","Adobe Ming Std","Agency FB","Arab","Arabic Typesetting","Arial Black","Batang","Bauhaus 93","Bell MT","Bitstream Vera Serif","Bodoni MT","Bookman Old Style","Braggadocio","Broadway","Calibri","Californian FB","Castellar","Casual","Centaur","Century Gothic","Chalkduster","Colonna MT","Copperplate Gothic Light","DejaVu LGC Sans Mono","Desdemona","DFKai-SB","Dotum","Engravers MT","Eras Bold ITC","Eurostile","FangSong","Forte","Franklin Gothic Heavy","French Script MT","Gabriola","Gigi","Gisha","Goudy Old Style","Gulim","GungSeo","Haettenschweiler","Harrington","Hiragino Sans GB","Impact","Informal Roman","KacstOne","Kino MT","Kozuka Gothic Pr6N","Lohit Gujarati","Loma","Lucida Bright","Lucida Fax","Magneto","Malgun Gothic","Matura MT Script Capitals","Menlo","MingLiU-ExtB","MoolBoran","MS PMincho","MS Reference Sans Serif","News Gothic MT","Niagara Solid","Nyala","Palace Script MT","Papyrus","Perpetua","Playbill","PMingLiU","Rachana","Rockwell","Sawasdee","Script MT Bold","Segoe Print","Showcard Gothic","SimHei","Snap ITC","TlwgMono","Tw Cen MT Condensed Extra Bold","Ubuntu","Umpush","Univers","Utopia","Vladimir Script","Wide Latin"],y=["4game","AdblockPlugin","AdobeExManCCDetect","AdobeExManDetect","Alawar NPAPI utils","Aliedit Plug-In","Alipay Security Control 3","AliSSOLogin plugin","AmazonMP3DownloaderPlugin","AOL Media Playback Plugin","AppUp","ArchiCAD","AVG SiteSafety plugin","Babylon ToolBar","Battlelog Game Launcher","BitCometAgent","Bitdefender QuickScan","BlueStacks Install Detector","CatalinaGroup Update","Citrix ICA Client","Citrix online plug-in","Citrix Receiver Plug-in","Coowon Update","DealPlyLive Update","Default Browser Helper","DivX Browser Plug-In","DivX Plus Web Player","DivX VOD Helper Plug-in","doubleTwist Web Plugin","Downloaders plugin","downloadUpdater","eMusicPlugin DLM6","ESN Launch Mozilla Plugin","ESN Sonar API","Exif Everywhere","Facebook Plugin","File Downloader Plug-in","FileLab plugin","FlyOrDie Games Plugin","Folx 3 Browser Plugin","FUZEShare","GDL Object Web Plug-in 16.00","GFACE Plugin","Ginger","Gnome Shell Integration","Google Earth Plugin","Google Earth Plug-in","Google Gears 0.5.33.0","Google Talk Effects Plugin","Google Update","Harmony Firefox Plugin","Harmony Plug-In","Heroes & Generals live","HPDetect","Html5 location provider","IE Tab plugin","iGetterScriptablePlugin","iMesh plugin","Kaspersky Password Manager","LastPass","LogMeIn Plugin 1.0.0.935","LogMeIn Plugin 1.0.0.961","Ma-Config.com plugin","Microsoft Office 2013","MinibarPlugin","Native Client","Nitro PDF Plug-In","Nokia Suite Enabler Plugin","Norton Identity Safe","npAPI Plugin","NPLastPass","NPPlayerShell","npTongbuAddin","NyxLauncher","Octoshape Streaming Services","Online Storage plug-in","Orbit Downloader","Pando Web Plugin","Parom.TV player plugin","PDF integrado do WebKit","PDF-XChange Viewer","PhotoCenterPlugin1.1.2.2","Picasa","PlayOn Plug-in","QQ2013 Firefox Plugin","QQDownload Plugin","QQMiniDL Plugin","QQMusic","RealDownloader Plugin","Roblox Launcher Plugin","RockMelt Update","Safer Update","SafeSearch","Scripting.Dictionary","SefClient Plugin","Shell.UIHelper","Silverlight Plug-In","Simple Pass","Skype Web Plugin","SumatraPDF Browser Plugin","Symantec PKI Client","Tencent FTN plug-in","Thunder DapCtrl NPAPI Plugin","TorchHelper","Unity Player","Uplay PC","VDownloader","Veetle TV Core","VLC Multimedia Plugin","Web Components","WebKit-integrierte PDF","WEBZEN Browser Extension","Wolfram Mathematica","WordCaptureX","WPI Detector 1.4","Yandex Media Plugin","Yandex PDF Viewer","YouTube Plug-in","zako"];function P(e,t){var r,a,n,c,o,u,i,f;for(r=e.length&3,a=e.length-r,n=t,o=3432918353,u=461845907,f=0;f<a;)i=e.charCodeAt(f)&255|(e.charCodeAt(++f)&255)<<8|(e.charCodeAt(++f)&255)<<16|(e.charCodeAt(++f)&255)<<24,++f,i=(i&65535)*o+(((i>>>16)*o&65535)<<16)&4294967295,i=i<<15|i>>>17,i=(i&65535)*u+(((i>>>16)*u&65535)<<16)&4294967295,n^=i,n=n<<13|n>>>19,c=(n&65535)*5+(((n>>>16)*5&65535)<<16)&4294967295,n=(c&65535)+27492+(((c>>>16)+58964&65535)<<16);switch(i=0,r){case 3:i^=(e.charCodeAt(f+2)&255)<<16;case 2:i^=(e.charCodeAt(f+1)&255)<<8;case 1:i^=e.charCodeAt(f)&255,i=(i&65535)*o+(((i>>>16)*o&65535)<<16)&4294967295,i=i<<15|i>>>17,i=(i&65535)*u+(((i>>>16)*u&65535)<<16)&4294967295,n^=i}return n^=e.length,n^=n>>>16,n=(n&65535)*2246822507+(((n>>>16)*2246822507&65535)<<16)&4294967295,n^=n>>>13,n=(n&65535)*3266489909+(((n>>>16)*3266489909&65535)<<16)&4294967295,n^=n>>>16,n>>>0}function M(){var e=["monospace","sans-serif","serif"],t=[],r="mmmmmmmmmmlli",a="72px",n=document.body,c=document.createElement("span"),o=c.style;o.fontSize=a,o.visibility="hidden",c.innerHTML=r,n.appendChild(c);for(var u=function(f){return o.fontFamily=f,{height:c.offsetHeight,width:c.offsetWidth}},i=0;i<e.length;i++)t[i]=u(e[i]);this.detect=function(f){for(var d=0;d<t.length;d++){var l=u('"'+f+'",'+e[d]),g=t[d];if(l.height!==g.height||l.width!==g.width)return!0}return!1},this.finish=function(){n.removeChild(c)}}var F=function(){var e,t;try{e=document.createElement("canvas"),t=e.getContext("2d")}catch(r){}return t?(t.fillStyle="red",t.fillRect(30,10,200,100),t.strokeStyle="#1a3bc1",t.lineWidth=6,t.lineCap="round",t.arc(50,50,20,0,Math.PI,!1),t.stroke(),t.fillStyle="#42e1a2",t.font="15.4px 'Arial'",t.textBaseline="alphabetic",t.fillText("PR flacks quiz gym: TV DJ box when? \u2620",15,60),t.shadowOffsetX=1,t.shadowOffsetY=2,t.shadowColor="white",t.fillStyle="rgba(0, 0, 200, 0.5)",t.font="60px 'Not a real font'",t.fillText("No\u9A97",40,80),P(e.toDataURL())):null},I=function(){var e=['video/mp4; codecs="avc1.42c00d"','video/ogg; codecs="theora"','video/webm; codecs="vorbis,vp8"','video/webm; codecs="vorbis,vp9"','video/mp2t; codecs="avc1.42E01E,mp4a.40.2"'],t=["audio/mpeg",'audio/mp4; codecs="mp4a.40.2"','audio/ogg; codecs="vorbis"','audio/ogg; codecs="opus"','audio/webm; codecs="vorbis"','audio/wav; codecs="1"'],r=function(a){for(var n={},c=0;c<a.length;c++){var o=a[c];window.MediaSource?n[o]=window.MediaSource.isTypeSupported(o):window.WebKitMediaSource&&(n[o]=window.WebKitMediaSource.isTypeSupported(o))}return n};return{audio:r(t),video:r(e)}},O=function(){if(!document.fonts||!window.chrome)return null;for(var e=[],t=0;t<s.length;t++){var r=!1,a=s[t];try{r=document.fonts.check('72px "'+a+'"')}catch(n){}r&&e.push(a)}return e.length===0||e.length===s.length?null:e},B=function(){var e,t;try{e=document.createElement("canvas"),t=e.getContext("2d")}catch(ee){}if(!t)return null;for(var r=["sans-serif","serif","monospace"],a=[],n="72px",c="mmmmmmmmmmlli",o=0;o<r.length;o++)t.font=n+' "'+r[o]+'"',a[o]=t.measureText(c);for(var u=[],i=0;i<s.length;i++){for(var f=s[i],d=!1,l=0;l<a.length;l++){t.font=n+' "'+f+'", "'+r[l]+'"';var g=t.measureText(c);if(g.width!==a[l].width||g.fontBoundingBoxAscent!==a[l].fontBoundingBoxAscent){d=!0;break}}d&&u.push(f)}return u},E=function(){for(var e=[],t=new M,r=0;r<s.length;r++){var a=s[r];t.detect(a)&&e.push(a)}return t.finish(),e},G=function(){var e=O();return e!==null||(e=B(),e!==null)?e:E()},R=function(e){return Object.prototype.toString.call(e)==="[object Array]"},x=function(e){var t=[],r={};for(var a in e)(typeof e[a]!="object"||R(e[a]))&&(r[a]=e[a]),t.push(a);return r.enumerationOrder=t,r},N=function(){var e=navigator.globalPrivacyControl===!0||navigator.globalPrivacyControl===1||navigator.globalPrivacyControl==="1";return e},L=function(){var e=x(navigator),t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;t&&(e.connection=x(t)),e.javaEnabled=navigator.javaEnabled();try{e.taintEnabled=navigator.taintEnabled()}catch(r){}return e},H=function(){for(var e=[],t=["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","rmocx.RealPlayer G2 Control","Scripting.Dictionary","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","SWCtl.SWCtl","TDCCtl.TDCCtl","WMPlayer.OCX"],r=0;r<t.length;r++){var a=t[r];try{var n=new ActiveXObject(a),c={name:a};try{c.version=n.GetVariable("$version")}catch(o){}e.push(c)}catch(o){}}return e},b=function(e){var t={name:e.name,filename:e.filename.toLowerCase(),description:e.description};typeof e.version!="undefined"&&(t.version=e.version),t.mimeTypes=[];for(var r=0;r<e.length;r++){var a=e[r];t.mimeTypes.push({description:a.description,suffixes:a.suffixes,type:a.type})}return t},_=function(){var e=[],t={},r,a,n;for(a=0;a<navigator.plugins.length;a++)r=navigator.plugins[a],!(r.name==="Shockwave Flash"&&navigator.userAgent.indexOf("Chrome")>-1)&&(t[r.name]=1,e.push(b(r)));for(a=0;a<y.length;a++)n=y[a],t[n]||(r=navigator.plugins[n],r&&e.push(b(r)));return e},k=function(){return window.ActiveXObject?H():_()},U=function(){var e={},t=[];for(var r in window.screen)typeof window.screen[r]!="object"&&(e[r]=window.screen[r]),t.push(r);return e.enumerationOrder=t,e},W=function(){try{if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;var e="(-webkit-touch-enabled),(-moz-touch-enabled),(-o-touch-enabled),(-ms-touch-enabled)";return window.matchMedia(e).matches}catch(t){return!1}},V=function(){var e={};return e.cookie=document.cookie.replace(/(?:(?:^|.*;\s*)__mmapiwsid\s*=\s*([^;]*).*$)|^.*$/,"$1"),window.localStorage&&(e.localStorage=localStorage.getItem("__mmapiwsid")),m&&(e.indexedDb=m),e},X=function(){var e={},t,r;try{t=document.createElement("canvas"),r=t.getContext("2d")}catch(c){}if(!r)return e;for(var a=["ActiveBorder","ActiveCaption","AppWorkspace","Background","ButtonFace","ButtonHighlight","ButtonShadow","ButtonText","CaptionText","GrayText","Highlight","HighlightText","InactiveBorder","InactiveCaption","InactiveCaptionText","InfoBackground","InfoText","Menu","MenuText","Scrollbar","ThreeDDarkShadow","ThreeDFace","ThreeDHighlight","ThreeDLightShadow","ThreeDShadow","Window","WindowFrame","WindowText"],n=0;n<a.length;n++)r.fillStyle=a[n],e[a[n]]=r.fillStyle;return e},J=function(e,t){var r="attribute vec2 attrVertex; varying vec2 varyinTexCoordinate; uniform vec2 uniformOffset; void main() {   varyinTexCoordinate = attrVertex + uniformOffset;   gl_Position = vec4(attrVertex, 0, 1); }",a="precision mediump float; varying vec2 varyinTexCoordinate; void main() {   gl_FragColor = vec4(varyinTexCoordinate, 0, 1); }",n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n);var c=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,c,e.STATIC_DRAW),n.itemSize=3,n.numItems=3;var o=e.createProgram(),u=e.createShader(e.VERTEX_SHADER);e.shaderSource(u,r),e.compileShader(u);var i=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(i,a),e.compileShader(i),e.attachShader(o,u),e.attachShader(o,i),e.linkProgram(o),e.useProgram(o),o.vertexPosAttrib=e.getAttribLocation(o,"attrVertex"),o.offsetUniform=e.getUniformLocation(o,"uniformOffset"),e.enableVertexAttribArray(o.vertexPosArray),e.vertexAttribPointer(o.vertexPosAttrib,n.itemSize,e.FLOAT,!1,0,0),e.uniform2f(o.offsetUniform,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,n.numItems),P(t.toDataURL())},z=function(){var e,t=document.createElement("canvas"),r={};try{e=t.getContext("webgl")||t.getContext("experimental-webgl")}catch(a){}if(!e)return r;try{r.extensions=e.getSupportedExtensions()}catch(a){}try{w.disableWebglHash||(r.hash=J(e,t))}catch(a){}return r},Q=function(e){var t=p;if(t){var r="StoredId",a=t.transaction(r,"readwrite"),n=a.objectStore(r);try{n.put({id:0,value:e})}catch(c){}}},q=function(e,t){var r="__mmapiwsid",a=new Date;a.setFullYear(a.getFullYear()+2),e||(e=document.domain);try{document.cookie=r+"="+t+"; Secure; expires="+a.toGMTString()+"; domain="+e+"; path=/"}catch(n){}if(window.localStorage)try{localStorage.setItem(r,t)}catch(n){}Q(t)},v;window.JSON&&window.JSON.stringify?v=function(e){var t="toJSON"in Array.prototype,r="toJSON"in Object.prototype,a=Array.prototype.toJSON,n=Object.prototype.toJSON;try{return delete Array.prototype.toJSON,delete Object.prototype.toJSON,JSON.stringify(e)}finally{t&&(Array.prototype.toJSON=a),r&&(Object.prototype.toJSON=n)}}:v=function(e){var t,r=typeof e;if(r==="undefined"||e===null)return"null";if(r==="number"||r==="boolean")return String(e);if(r==="object"&&e&&e.constructor===Array){t=[];for(var a=0;a<e.length;a++)t.push(v(e[a]));return"["+String(t)+"]"}if(r==="object"){var n;t=[];for(n in e)e.hasOwnProperty(n)&&t.push('"'+n+'":'+v(e[n]));return"{"+String(t)+"}"}var c=String(e);return c=c.replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0"),'"'+c+'"'};var T=function(e){var t,r=window.location.hostname,a=r.split(".").reverse();return a[1]==="maxmind"&&(a[0]==="com"||a[0]==="dev")&&r!=="www.maxmind.com"&&(t=r),"https://"+(t||"d-ipv"+e+".mmapiws.com")+"/ant_squire"},h,C=function(e,t,r){var a=e.responseText.split(/;/),n=a[0],c=a[1],o=parseInt(a[2],10);typeof c!="undefined"&&q(n,c),t===6&&o===6&&h(r,4)},K=function(){if(!window.performance)return null;var e=performance.getEntriesByType("resource");if(e===void 0)return null;for(var t=T(6),r=0;r<e.length;r++)if(e[r].name===t)return e[r].responseEnd-e[r].startTime;return null};h=function(e,t){var r,a=T(t),n;if(e.storedIds=V(),t===4){var c=K();c!==null&&(e.requestDuration=c)}if(n=v(e),navigator.appName==="Microsoft Internet Explorer"&&window.XDomainRequest&&window.document.documentMode!==10)r=new XDomainRequest,r.onload=function(){C(r,t)},r.onprogress=function(){},r.ontimeout=function(){},r.onerror=function(){};else{try{r=new window.XMLHttpRequest}catch(o){}if(!r)try{r=new window.ActiveXObject("Microsoft.XMLHTTP")}catch(o){}if(!r)return;r.onreadystatechange=function(){r.readyState===4&&r.status===200&&C(r,t,e)}}try{r.open("POST",a,!0),typeof r.setRequestHeader=="function"&&r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),r.send(n)}catch(o){}};var Y=function(){return typeof survey_height_follow!="undefined"?survey_height_follow:typeof maxmind_user_id!="undefined"?maxmind_user_id:w.accountId},A=function(){var e=new Date,t;try{t=X()}catch(n){}var r=Y(),a={accountId:r,canvas:{"2dHash":F(),webgl:z()},codecs:I(),deviceTime:e.getTime()/1e3,documentUrl:document.URL,documentMode:document.documentMode,fonts:{css:G()},hasGPC:N(),navigator:L(),plugins:k(),screen:U(),systemColors:t,timezoneOffset:e.getTimezoneOffset(),touchInput:W(),userId:r};return a},j=function(){if(navigator.getBattery)navigator.getBattery().then(function(t){var r=A();return r.battery={charging:t.charging,chargingTime:t.chargingTime,dischargingTime:t.dischargingTime,level:t.level},r}).then(function(t){h(t,6)});else{var e=A();h(e,6)}};if(!document.__mmapiwsStateTestingDevice){var S="StoredId",$=function(e){var t=e.transaction(S,"readonly"),r=t.objectStore(S),a=r.get(0);a.onsuccess=function(n){var c=n.target.result;c&&(m=c.value)}},Z=function(){if(window.indexedDB){var e;try{e=indexedDB.open("__mmapiwsDb",1)}catch(t){}e!==null&&(e.onsuccess=function(){p=this.result,$(p)},e.onupgradeneeded=function(t){t.currentTarget.result.createObjectStore(S,{keyPath:"id"})})}},D=function(){Z(),typeof document.body!="undefined"&&document.body?j():setTimeout(D,500)};D()}})();})();
/**
 * JS Implementation of MurmurHash3 (r136) (as of May 20, 2011)
 *
 * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
 * @see http://github.com/garycourt/murmurhash-js
 * @author <a href="mailto:aappleby@gmail.com">Austin Appleby</a>
 * @see http://sites.google.com/site/murmurhash/
 * @license MIT. http://opensource.org/licenses/MIT
 *
 * @param {string} key ASCII only
 * @param {number} seed Positive integer only
 * @return {number} 32-bit positive integer hash
 */
/*!
 * Based on Detector function (v.0.3) from:
 * Author : Lalit Patel
 * Website: http://www.lalit.org/lab/javascript-css-font-detect/
 * License: Apache Software License 2.0
 *          http://www.apache.org/licenses/LICENSE-2.0
 */
//# sourceMappingURL=device.js.map
